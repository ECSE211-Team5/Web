.TH "ca.mcgill.ecse211.project.WiFi" 3 "Thu Nov 15 2018" "Version 1.0" "ECSE211 - Fall 2018 - Final Project" \" -*- nroff -*-
.ad l
.nh
.SH NAME
ca.mcgill.ecse211.project.WiFi
.SH SYNOPSIS
.br
.PP
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static void \fBreadData\fP ()"
.br
.in -1c
.SH "Detailed Description"
.PP 
This class implements the ability to receive game parameters over \fBWiFi\fP
.PP
\fBAuthor:\fP
.RS 4
Caspar Cedro 
.PP
Percy Chen 
.PP
Patrick Erath 
.PP
Anssam Ghezala 
.PP
Susan Matuszewski 
.PP
Kamy Moussavi Kafi 
.RE
.PP

.PP
Definition at line 16 of file WiFi\&.java\&.
.SH "Member Function Documentation"
.PP 
.SS "static void ca\&.mcgill\&.ecse211\&.project\&.WiFi\&.readData ()\fC [static]\fP"
This method sets up a connection to a locally hosted server and reads \fBGame\fP Parameter values from it\&. if (\fBGameParameters\&.OPPO_UR\fP[0] - \fBGameParameters\&.OPPO_LL\fP[0] < 2 || \fBGameParameters\&.OPPO_UR\fP[0] - \fBGameParameters\&.OPPO_LL\fP[0] > 8 || \fBGameParameters\&.OPPO_UR\fP[1] - \fBGameParameters\&.OPPO_LL\fP[1] < 2 || \fBGameParameters\&.OPPO_UR\fP[1] - \fBGameParameters\&.OPPO_LL\fP[1] > 8) { throw new Exception('Green zone coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.Island_UR\fP[0] - \fBGameParameters\&.Island_LL\fP[0] < 2 || \fBGameParameters\&.Island_UR\fP[0] - \fBGameParameters\&.Island_LL\fP[0] > 8 || \fBGameParameters\&.Island_UR\fP[1] - \fBGameParameters\&.Island_LL\fP[1] < 2 || \fBGameParameters\&.Island_UR\fP[1] - \fBGameParameters\&.Island_LL\fP[1] > 8) { throw new Exception('Green zone coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.TTEE_O\fP[0] < 0 || \fBGameParameters\&.TTEE_O\fP[0] > 7 || \fBGameParameters\&.TTEE_O\fP[1] < 0 || \fBGameParameters\&.TTEE_O\fP[1] > 7) { throw new Exception('Green tree coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.US_UR\fP[0] - \fBGameParameters\&.US_LL\fP[0] < 2 || \fBGameParameters\&.US_UR\fP[0] - \fBGameParameters\&.US_LL\fP[0] > 10 || \fBGameParameters\&.US_UR\fP[1] - \fBGameParameters\&.US_LL\fP[1] < 2 || \fBGameParameters\&.US_UR\fP[1] - \fBGameParameters\&.US_LL\fP[1] > 10) { throw new Exception('Red zone coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.OPPO_UR\fP[0] - \fBGameParameters\&.OPPO_LL\fP[0] < 2 || \fBGameParameters\&.OPPO_UR\fP[0] - \fBGameParameters\&.OPPO_LL\fP[0] > 10 || \fBGameParameters\&.OPPO_UR\fP[1] - \fBGameParameters\&.OPPO_LL\fP[1] < 2 || \fBGameParameters\&.OPPO_UR\fP[1] - \fBGameParameters\&.OPPO_LL\fP[1] > 10) { throw new Exception('Green zone coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.Island_UR\fP[0] - \fBGameParameters\&.Island_LL\fP[0] < 2 || \fBGameParameters\&.Island_UR\fP[0] - \fBGameParameters\&.Island_LL\fP[0] > 10 || \fBGameParameters\&.Island_UR\fP[1] - \fBGameParameters\&.Island_LL\fP[1] < 2 || \fBGameParameters\&.Island_UR\fP[1] - \fBGameParameters\&.Island_LL\fP[1] > 10) { throw new Exception('Island zone coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.TN_UR\fP[0] - \fBGameParameters\&.TN_LL\fP[0] < 1 || \fBGameParameters\&.TN_UR\fP[0] - \fBGameParameters\&.TN_LL\fP[0] > 2 || \fBGameParameters\&.TN_UR\fP[1] - \fBGameParameters\&.TN_LL\fP[1] < 1 || \fBGameParameters\&.TN_UR\fP[1] - \fBGameParameters\&.TN_LL\fP[1] > 2) { throw new Exception('Red tunnel coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.TREE_US\fP[0] < 0 || \fBGameParameters\&.TREE_US\fP[0] > 14 || \fBGameParameters\&.TREE_US\fP[1] < 0 || \fBGameParameters\&.TREE_US\fP[1] > 8) { throw new Exception('Red tree coordinates out of bounds'); }
.PP
if (\fBGameParameters\&.TTEE_O\fP[0] < 0 || \fBGameParameters\&.TTEE_O\fP[0] > 14 || \fBGameParameters\&.TTEE_O\fP[1] < 0 || \fBGameParameters\&.TTEE_O\fP[1] > 8) { throw new Exception('Green tree coordinates out of bounds'); } 
.PP
Definition at line 26 of file WiFi\&.java\&.
.PP
.nf
26                                 {
27     WifiConnection connection =
28         new WifiConnection(SERVER_IP, GameParameters\&.PlayerTeamNumber, true);
29 
30     try {
31       /*
32        * getData() will connect to the server and wait until the user/TA presses the "Start" button
33        * in the GUI on their laptop with the data filled in\&. Once it's waiting, you can kill it by
34        * pressing the upper left hand corner button (back/escape) on the EV3\&. getData() will throw
35        * exceptions if it can't connect to the server (e\&.g\&. wrong IP address, server not running on
36        * laptop, not connected to WiFi router, etc\&.)\&. It will also throw an exception if it connects
37        * but receives corrupted data or a message from the server saying something went wrong\&. For
38        * example, if TEAM_NUMBER is set to 1 above but the server expects teams 17 and 5, this robot
39        * will receive a message saying an invalid team number was specified and getData() will throw
40        * an exception letting you know\&.
41        */
42       Map data = connection\&.getData();
43       String tunnelUs = "TNR_";
44       String tunnelO = "TNG_";
45       String ringUs = "TR_";
46       String ringO = "TG_";
47       String startingUs = "Red_";
48       String startingO = "Green_";
49       String cornerUs = "RedCorner";
50       String cornerO = "GreenCorner";
51      
52       GameParameters\&.RedTeam = ((Long) data\&.get("RedTeam"))\&.intValue();
53       GameParameters\&.GreenTeam = ((Long) data\&.get("GreenTeam"))\&.intValue();
54 
55       if(GameParameters\&.RedTeam == GameParameters\&.PlayerTeamNumber) {
56       }else if(GameParameters\&.GreenTeam == GameParameters\&.PlayerTeamNumber) {
57         System\&.out\&.println("GREEEN");
58         String s = tunnelO;
59         tunnelO = tunnelUs;
60         tunnelUs = s;
61         //change ring set
62         s = ringO;
63         ringO = ringUs;
64         ringUs = s;
65         //change starting corner
66         s = startingO;
67         startingO = startingUs;
68         startingUs = s;
69         //change corner
70         s = cornerO;
71         cornerO = cornerUs;
72         cornerUs = s;
73         
74       }else {
75         throw new Exception("Bad Team Number");
76       }
77       
78       
79       GameParameters\&.UsCorner = ((Long) data\&.get(cornerUs))\&.intValue();
80       GameParameters\&.OCorner = ((Long) data\&.get(cornerO))\&.intValue();
81 
82       GameParameters\&.US_LL[0] = ((Long) data\&.get(startingUs+"LL_x"))\&.intValue();
83       GameParameters\&.US_LL[1] = ((Long) data\&.get(startingUs+"LL_y"))\&.intValue();
84       GameParameters\&.US_UR[0] = ((Long) data\&.get(startingUs+"UR_x"))\&.intValue();
85       GameParameters\&.US_UR[1] = ((Long) data\&.get(startingUs+"UR_y"))\&.intValue();
86 
87       GameParameters\&.OPPO_LL[0] = ((Long) data\&.get(startingO+"LL_x"))\&.intValue();
88       GameParameters\&.OPPO_LL[1] = ((Long) data\&.get(startingO+"LL_y"))\&.intValue();
89       GameParameters\&.OPPO_UR[0] = ((Long) data\&.get(startingO+"UR_x"))\&.intValue();
90       GameParameters\&.OPPO_UR[1] = ((Long) data\&.get(startingO+"UR_y"))\&.intValue();
91       
92       //GameParameters\&.Grid_LL[0] = ((Long) data\&.get("Green_LL_x"))\&.intValue();
93       //GameParameters\&.Grid_LL[1] = ((Long) data\&.get("Green_LL_y"))\&.intValue();
94       //GameParameters\&.Grid_UR[0] = ((Long) data\&.get("Green_UR_x"))\&.intValue();
95       //GameParameters\&.Grid_UR[1] = ((Long) data\&.get("Green_UR_y"))\&.intValue();
96 
97       GameParameters\&.Island_LL[0] = ((Long) data\&.get("Island_LL_x"))\&.intValue();
98       GameParameters\&.Island_LL[1] = ((Long) data\&.get("Island_LL_y"))\&.intValue();
99       GameParameters\&.Island_UR[0] = ((Long) data\&.get("Island_UR_x"))\&.intValue();
100       GameParameters\&.Island_UR[1] = ((Long) data\&.get("Island_UR_y"))\&.intValue();
101 
102       GameParameters\&.TN_LL[0] = ((Long) data\&.get(tunnelUs+"LL_x"))\&.intValue();
103       GameParameters\&.TN_LL[1] = ((Long) data\&.get(tunnelUs+"LL_y"))\&.intValue();
104       GameParameters\&.TN_UR[0] = ((Long) data\&.get(tunnelUs+"UR_x"))\&.intValue();
105       GameParameters\&.TN_UR[1] = ((Long) data\&.get(tunnelUs+"UR_y"))\&.intValue();
106       System\&.out\&.println(" GameParameters\&.TN_LL[0] " +  GameParameters\&.TN_LL[0]);
107       System\&.out\&.println(" GameParameters\&.TN_LL[1] " +  GameParameters\&.TN_LL[1]);
108       System\&.out\&.println(" GameParameters\&.TN_UR[0] " +  GameParameters\&.TN_UR[0]);
109       System\&.out\&.println(" GameParameters\&.TN_UR[1] " +  GameParameters\&.TN_UR[1]);
110 
111 
112       GameParameters\&.TNO_LL[0] = ((Long) data\&.get(tunnelO+"LL_x"))\&.intValue();
113       GameParameters\&.TNO_LL[1] = ((Long) data\&.get(tunnelO+"LL_y"))\&.intValue();
114       GameParameters\&.TNO_UR[0] = ((Long) data\&.get(tunnelO+"UR_x"))\&.intValue();
115       GameParameters\&.TNO_UR[1] = ((Long) data\&.get(tunnelO+"UR_y"))\&.intValue();
116 
117       GameParameters\&.TREE_US[0] = ((Long) data\&.get(ringUs+"x"))\&.intValue();
118       GameParameters\&.TREE_US[1] = ((Long) data\&.get(ringUs+"y"))\&.intValue();
119 
120       GameParameters\&.TTEE_O[0] = ((Long) data\&.get(ringO+"x"))\&.intValue();
121       GameParameters\&.TTEE_O[1] = ((Long) data\&.get(ringO+"y"))\&.intValue();
122 
123       if (GameParameters\&.Demo == GameParameters\&.DemoType\&.Beta) {
124         GameParameters\&.Grid_UR[0] = 8;
125         GameParameters\&.Grid_UR[1] = 8;
126         
127         switch(GameParameters\&.UsCorner) {
128           case 0:
129             int[] sc0 = {1,1,0};
130             GameParameters\&.SC = sc0;
131             break;
132           case 1:
133             int[] sc1 = {7,1,270};
134             GameParameters\&.SC = sc1;
135             break;
136           case 2:
137             int[] sc2 = {7,7,180};
138             GameParameters\&.SC = sc2;
139             break;
140           case 3:
141             int[] sc3 = {1,7,90};
142             GameParameters\&.SC = sc3;
143             break;
144         }
166       } else {
167         GameParameters\&.Grid_UR[0] = 15;
168         GameParameters\&.Grid_UR[1] = 9;
169  
170         switch(GameParameters\&.UsCorner) {
171           case 0:
172             int[] sc0 = {1,1,0};
173             GameParameters\&.SC = sc0;
174             break;
175           case 1:
176             int[] sc1 = {14,1,270};
177             GameParameters\&.SC = sc1;
178             break;
179           case 2:
180             int[] sc2 = {14,8,180};
181             GameParameters\&.SC = sc2;
182             break;
183           case 3:
184             int[] sc3 = {1,8,90};
185             GameParameters\&.SC = sc3;
186             break;
187         }
227       }
228       
229       //set data read to true
230       synchronized(GameParameters\&.waitDataObject) {
231         GameParameters\&.hasDataRead = true;
232         GameParameters\&.waitDataObject\&.notify();
233       }
234       
235     } catch (Exception e) {
236       e\&.printStackTrace();
237     }
238   }
.fi


.SH "Author"
.PP 
Generated automatically by Doxygen for ECSE211 - Fall 2018 - Final Project from the source code\&.
